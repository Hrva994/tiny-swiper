{"version":3,"file":"navigation.js","sources":["../../src/core/render/dom.ts","../../src/modules/navigation.ts"],"sourcesContent":["export function addClass (\n    el: HTMLElement,\n    list: Array<string> | string = []\n): void {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (!el.classList.contains(clz) && el.classList.add(clz)))\n}\n\nexport function removeClass (\n    el: HTMLElement,\n    list: Array<string> | string = []\n): void {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (el.classList.contains(clz) && el.classList.remove(clz)))\n}\n\nexport function attachListener (\n    el: HTMLElement | Document | Window,\n    evtName: string,\n    handler: EventListenerOrEventListenerObject,\n    opts?: boolean | AddEventListenerOptions\n): void {\n    el.addEventListener(evtName, handler, opts)\n}\n\nexport function detachListener (\n    el: HTMLElement | Document | Window,\n    evtName: string,\n    handler: EventListenerOrEventListenerObject\n): void {\n    el.removeEventListener(evtName, handler)\n}\n\nexport function removeAttr (\n    el: HTMLElement,\n    attr: string\n): void {\n    el.removeAttribute(attr)\n}\n\nexport function setAttr (\n    el: HTMLElement,\n    attr: string,\n    value = ''\n): HTMLElement {\n    el.setAttribute(attr, value)\n    return el\n}\n\nexport function setStyle (\n    el: HTMLElement,\n    style: {[key: string]: string},\n    forceRender?: boolean\n): HTMLElement {\n    Object.keys(style).forEach(prop => {\n        // TS7015: Element implicitly has an 'any' type because index expression is not of type 'number'.\n        el.style[prop as any] = style[prop]\n    })\n    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n    forceRender && getComputedStyle(el)\n\n    return el\n}\n\nexport function getTranslate (\n    el: HTMLElement,\n    isHorizontal: boolean\n): number {\n    const matrix = getComputedStyle(el).transform.replace(/[a-z]|\\(|\\)|\\s/g, '').split(',').map(parseFloat)\n    let arr: Array<number> = []\n\n    if (matrix.length === 16) {\n        arr = matrix.slice(12, 14)\n    } else if (matrix.length === 6) {\n        arr = matrix.slice(4, 6)\n    }\n    return (<Array<number>>arr)[isHorizontal ? 0 : 1] || 0\n}\n","import {\n    attachListener,\n    detachListener\n} from '../core/render/dom'\nimport { SwiperInstance } from '../core/index'\nimport { Options } from '../core/options'\n\n\nexport type SwiperPluginNavigationOptions = Options & {\n    navigation: {\n        nextEl: HTMLElement | string\n        prevEl: HTMLElement | string\n        disabledClass: string\n    }\n}\n\nexport type SwiperPluginNavigationInstance = {\n    nextEl: HTMLElement\n    prevEl: HTMLElement\n}\n\nexport default function SwiperPluginNavigation (\n    instance: SwiperInstance & {\n        navigation: SwiperPluginNavigationInstance\n    },\n    options: SwiperPluginNavigationOptions\n) {\n    const navigation = {\n        nextEl: null,\n        prevEl: null\n    } as unknown as SwiperPluginNavigationInstance\n\n    const nextClickHandler = (e: PointerEvent) => {\n        clickHandler(e.target as HTMLElement, 'next')\n    }\n\n    const prevClickHandler = (e: PointerEvent) => {\n        clickHandler(e.target as HTMLElement, 'prev')\n    }\n\n    const clickHandler = (e: HTMLElement, type: 'next' | 'prev') => {\n        if (checkIsDisable(e) && !instance.options.loop) {\n            return\n        }\n        const {\n            index\n        } = instance.state\n\n        if (type === 'next') {\n            instance.slideTo(index + 1)\n        }\n\n        if (type === 'prev') {\n            instance.slideTo(index - 1)\n        }\n    }\n\n    const checkNavBtnDisabledClass = (index: number) => {\n        const {\n            minIndex,\n            maxIndex\n        } = instance.env.limitation\n        if (navigation && navigation.nextEl) {\n            if (navigation.nextEl.classList.contains(options.navigation.disabledClass)\n                && index > minIndex) {\n                navigation.nextEl.classList.remove(options.navigation.disabledClass)\n            }\n            if (navigation.prevEl.classList.contains(options.navigation.disabledClass)\n                && index < maxIndex) {\n                navigation.prevEl.classList.remove(options.navigation.disabledClass)\n            }\n\n            if (index === minIndex) {\n                navigation.prevEl.classList.add(options.navigation.disabledClass)\n            }\n            if (index === maxIndex) {\n                navigation.nextEl.classList.add(options.navigation.disabledClass)\n            }\n        }\n    }\n\n    const checkIsDisable = (e: HTMLElement) => {\n        return e.classList.contains(options.navigation.disabledClass)\n\n    }\n\n    const checkButtonDefaultStatus = () => {\n        const {\n            index\n        } = instance.state\n        const {\n            $list\n        } = instance.env.element\n        const {\n            minIndex\n        } = instance.env.limitation\n        if (index === minIndex) {\n            navigation.prevEl.classList.add(options.navigation.disabledClass)\n        }\n        if ($list.length === minIndex) {\n            navigation.nextEl.classList.add(options.navigation.disabledClass)\n        }\n    }\n\n    instance.on('before-slide', (currentIndex: number, state: never, newIndex: number) => {\n        if (!instance.options.loop) {\n            checkNavBtnDisabledClass(newIndex)\n        }\n    })\n\n    instance.on('before-init', () => {\n        if (options.navigation) {\n            options.navigation = Object.assign({\n                disabledClass: 'swiper-button-disabled'\n            }, options.navigation)\n        }\n    })\n\n    instance.on('after-init', () => {\n        if (!options.navigation) return\n\n        navigation.nextEl = (typeof options.navigation.nextEl === 'string')\n            ? document.body.querySelector(options.navigation.nextEl) as HTMLElement\n            : options.navigation.nextEl\n        navigation.prevEl = (typeof options.navigation.prevEl === 'string')\n            ? document.body.querySelector(options.navigation.prevEl) as HTMLElement\n            : options.navigation.prevEl\n        if (!instance.options.loop) {\n            checkButtonDefaultStatus()\n        }\n        attachListener(navigation.nextEl, 'click', <EventListener> nextClickHandler)\n        attachListener(navigation.prevEl, 'click', <EventListener> prevClickHandler)\n    })\n\n    instance.on('after-destroy', () => {\n        if (!options.navigation) return\n\n        detachListener(navigation.nextEl, 'click', <EventListener> nextClickHandler)\n        detachListener(navigation.prevEl, 'click', <EventListener> prevClickHandler)\n\n        delete navigation.nextEl\n        delete navigation.prevEl\n    })\n}\n"],"names":["attachListener","el","evtName","handler","opts","addEventListener","detachListener","removeEventListener","SwiperPluginNavigation","instance","options","navigation","nextEl","prevEl","nextClickHandler","e","clickHandler","target","prevClickHandler","type","checkIsDisable","loop","index","state","slideTo","checkNavBtnDisabledClass","env","limitation","minIndex","maxIndex","classList","contains","disabledClass","remove","add","checkButtonDefaultStatus","$list","element","length","on","currentIndex","newIndex","Object","assign","document","body","querySelector"],"mappings":"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"}